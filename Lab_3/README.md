# Αρχιτεκτονική Προηγμένων Υπολογιστών
## Εργαστήριο 3 - Αναφορά

**Εργαστήριο Β - Ομάδα 6**

**Τοπαλίδης Ευθύμης  (8417)**

**Τσιαμήτας Γιώργος  (8742)**

### Βήμα 1
### Ερώτημα 1

Dynamic Power: Είναι η δυναμική ισχύς που καταναλώνεται κατά τη διαδικασία φόρτισης και εκφόρτισης του χωρητικού φορτίου μίας πύλης καθώς μεταγάγει η πύλη αυτή. Δίνεται από τον τύπο: Pswitching = α*C * (Vdd^2) * f,  
όπου α είναι ο παράγοντας δραστηριότητας μεταγωγωγής. Αν ένα κύκλωμα αλλάζει κατάσταση 2 φορές στον κύκλο τότε έχει α=1, αν αλλάζει μία φορά στον κύκλο εχει α=0.5 κι αν αλλαζει μία φορά κάθε δεύτερο κύκλο εχει α=0.25. C είναι η χωρητικότητα του φορτίου (χωρητικότητα πύλης, διάχυσης και αγωγών διασύνδεσης), Vdd είναι η τάση τροφοδοσίας και f η συχνότητα του ρολογιού. Αν θέλουμε να μειώσουμε την ισχύ σε έναν κόμβο του κυκλώματος μειώνοντας τον παράγοντα μεταγωγής α, μπορούμε να εφαρμόσουμε την τεχνικη clock gating για να απενεργοποιούμε όποτε ειναι επιτρεπτό κάποιο block του κυκλώματος. Επίσης μπορούμε να μειώσουμε τη συχνότητα λειτουργίας-που εξαρτάται από την τάση τροφοδοσίας- μειώνοτας έτσι το μέγεθος των τρανζίστορ ή την τάση τροφοδοσίας(αν το επιτρέπει και η τεχνολογία ολοκλήρωσης του κυκλώματος μας).

Leakage: Ένα άλλο μεγάλο κομμάτι της συνολικής ισχύς αφορά την στατική ισχύ. Υπάρχει κατανάλωση στατικής ισχύος ακόμη κι όταν το ολοκληρωμένο μας δεν αλλάζει κατάσταση. Δίνεται από τον τύπο Pstatic = Ileakage * Vdd, Ileakage = Isub + Igate.  
Το ρεύμα διαρροής υποκατωφλίου Isub ρέει όταν ένα τρανζίστορ είναι OFF. To ρεύμα διαρροής πύλης Isub αναφέρεται στους φορείς που καταφέρνουν να περάσουν από το διηλεκτρικό πύλης όταν εφαρμόζεται τάση στα άκρα της πύλης. Η ποσότητα αυτού του ρεύματος εξαρτάται από το πάχος του διηλεκτρικού και την τάση στα άκρα της πύλης.

Αν τρέξουμε διαφορετικά προγράμματα σε έναν επεξεργαστή καταλαβαίνουμε έυκολα ότι θα επηρεαστεί η δυναμική ισχύς επειδή για κάθε πρόγραμμα θα έχουμε διαφορετικές συχνότητες μεταγωγής των κυκλωμάτων λόγω των διαφορετικών χρήσεων του υλικού που κάνει το κάθε πρόγραμμα ενώ η στατική ισχύς είναι ανεπηρέαστη από το ποιο προγράμμα εκτελείται κάθε φορά καθώς εξαρτάται απολειστικά από το layout των τρανζίστορ και την τάση τροφοδοσίας που είναι κατάλληλη για την λειτουργία τους.


### Ερώτημα 2

Δεν μπορούμε να βγάλουμε ασφαλή συμπεράσματα για το ποιος από τους 2 επεξέργαστές δίνει τη μεγαλύτερη διάρκεια ζωής στη μπαταρία καθώς θα ήταν λάθος αν προτρέχαμε και λέγαμε ότι ο επεξεργαστής με τα 40 watt κατανάλωση θα εξαντλήσει γρηγορότερα την μπαταρία καθώς δεν έχουμε καμία πληροφορία για τον χρόνο λειτουργίας των 2 επεξεργαστών ή των προγραμμάτων που καλούνται να εκτελέσουν. Έτσι, το ΜcPAT ενώ μας δίνει πληροφορία του Peak Power των δύο επεξεργαστών, δεν μας δίνει την πληροφορία του Runtime Dynamic Power για να απαντήσουμε σωστά στο ερώτημα. Συγκεκριμένα, κατά την κλήση του McPAT από τον performance simulator(στην περίπτωσή μας ο GEM5), o τελευταίος πρέπει να παρέχει στον πρώτο στατιστικά και συγκεκριμένα τους παράγοντες μεταγωγής για κάθε κύκλωμα του επεξεργαστή μέσω του XML interface file. O παράγοντας μεταγωγής δίνεται από τον παρακάτω τύπο:

ActivityFactor = (AccessCount ∗ ((\sum_{i=1}^{n} HammingDistance)/n))/n

AccessCount: είναι ο αριθμός των προσβάσεων που γίνεται στο συγκεκριμένο κύκλωμα επί το μέσο όρο του HammingDistance(αριθμός των bits που αλλάζουν κατάσταση) στο χρονικό διάστημα που
θέλουμε να βλέπουμε το runtime power consumption. Γίνεται πιο ακριβής η προσομοίωσή μας καθώς μειώνουμε το χρονικό διάστημα π.χ. στον έναν κύκλο ρολογιού, δηλαδή επιλέγουμε να παίρνουμε
δεδομένα για την ισχύ σε κάθε κύκλο ρολογιού. Ακόμη αν δεν έχουμε τους activity factors για κάθε component, μπορούμε να δώσουμε γενικά στοιχεία απόδοσης του συστήματός μας όπως 
π.χ. το πόσες φορές προσπεάστηκε η L1 cache(overall access times). 
Έχοντας στη διάθεση μας τις παραπάνω στατιστικές πληροφορίες, μόνο τότε ο McPAT θα μπορέσει να μας δώσει ασφαλή απάντηση για το ποιον από τους 2 επεξεργαστές να χρησιμοποιήσουμε για
το σύστημά μας ώστε να επεκτείνουμε όσο γίνεται περισσότερο τη χρονική διάρκεια ζωής της μπαταρίας.

